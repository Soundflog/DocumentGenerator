@startuml
start

:Запуск приложения;
:Выбор шаблона (File Dialog);

if (Файл выбран?) then (Да)
  :Логирование: "Выбор шаблона";
  :Анализ шаблона;
  :Логирование: "Анализ шаблона";
  :Отображение доступных полей шаблона;
  :Заполнение полей пользователем;
  :Логирование: "Заполнение шаблона";
  :Генерация документа;
  :Логирование: "Генерация документа";
  
  partition "Финальная обработка" {
    if (Сохранить документ?) then (Да)
      :Сохранение документа на диск;
      :Логирование: "Сохранение документа";
    else (Отправить по email)
      :Ввод данных получателя;
      :Отправка документа по email;
      :Логирование: "Отправка email";
    endif
  }
else (Нет)
  :Операция отменена;
endif

stop
@enduml
